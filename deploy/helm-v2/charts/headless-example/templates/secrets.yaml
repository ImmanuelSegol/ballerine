apiVersion: v1
kind: Secret
metadata:
    name: {{ include "headless-example.fullname" . }}
    namespace: {{ .Release.Namespace | quote }}
    labels:
      app: {{ include "headless-example.fullname" . }}
type: Opaque
stringData:
  {{- range $key, $value := .Values.applicationConfig }}
  {{- if $value }}
  {{ $key }}: {{ $value | quote }}
  {{- end }}
  {{- end }}